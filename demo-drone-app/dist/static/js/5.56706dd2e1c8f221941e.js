webpackJsonp([5],{"1dIJ":function(e,t,i){var n=i("xStm");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i("rjj0")("6b13bb3e",n,!0,{})},"9bBU":function(e,t,i){i("mClu");var n=i("FeBl").Object;e.exports=function(e,t,i){return n.defineProperty(e,t,i)}},C4MV:function(e,t,i){e.exports={default:i("9bBU"),__esModule:!0}},N3PK:function(e,t,i){"use strict";function n(e){i("1dIJ")}Object.defineProperty(t,"__esModule",{value:!0});var l=i("bOdI"),o=i.n(l),s=i("cPEA"),a=i("7+uW"),r=(i("mtWM"),i("Rf8U"),i("PyoC"));a.a.use(s,{load:{installComponents:!0,key:"AIzaSyCtbjOc1SD9ozYtUVzrtxd0PDxRpN-0JGs"}});var c={name:"NewMissionPage",mixins:[r.a],data:function(){var e;return e={center:{lat:33.778,lng:-84.396},newCenter:"",zoom:15,mapType:"hybrid",scrollwheel:!0,draggable:!0,title:"",location:"",description:"",timeout:null,show:!1,alertMissingCriteria:!1,cardHeight:"200px",deleteMenu:!1,x:0,y:0,types:["Recreational","Commercial","Research"],selectedType:"Recreational",menuDate:!1,menuStart:!1,menuEnd:!1,pickerDate:null,pickerStart:null,pickerEnd:null,paths:[],polyPaths:[],polygons:[],canDraw:!1,drawer:!1},o()(e,"timeout",6e3),o()(e,"selectedPolygon",null),o()(e,"selectedPolyline",null),o()(e,"selectedVertex",null),e},mounted:function(){this.cardHeight=document.documentElement.offsetHeight-64+"px"},methods:{selectingVertex:function(e){void 0!=e.vertex&&(null!=this.selectedPolygon&&this.unselectPolygon(),this.selectedPolyline=this.$refs.polyline.$polylineObject,this.selectedVertex=e.vertex)},deletePolygon:function(){this.polygons.splice(this.selectedPolygon.id,1),this.selectedPolygon.setMap(null),this.selectedPolygon=null,this.selectedVertex=null},deleteVertex:function(){if(null!=this.selectedPolygon){this.selectedPolygon.getPath().removeAt(this.selectedVertex),this.selectedVertex=null}else null!=this.selectedPolyline&&(this.paths.splice(this.selectedVertex,1),this.selectedVertex=null,this.selectedPolyline=null)},unselectPolygon:function(){this.selectedPolygon.setOptions({strokeColor:"#FF0000"}),this.selectedPolygon=null,this.selectedVertex=null},showDeleteMenu:function(e){var t=this;null!=this.selectedPolyline?(this.deleteMenu=!1,this.x=e.clientX,this.y=e.clientY,this.$nextTick(function(){t.deleteMenu=!0})):this.canDraw||null!=this.selectedPolygon&&(this.deleteMenu=!1,this.x=e.clientX,this.y=e.clientY,this.$nextTick(function(){t.deleteMenu=!0}))},saveDate:function(e){this.$refs.menuDate.save(e)},setEvent:function(e,t){google.maps.event.addListener(e,"dragend",function(i){t.polygons[e.id].setPath(e.getPath())}),google.maps.event.addListener(e,"rightclick",function(i){t.canDraw||(null!=t.selectedPolygon?(t.selectedPolygon!=e&&(t.selectedPolygon.setOptions({strokeColor:"#FF0000"}),e.setOptions({strokeColor:"#0000FF"}),t.selectedPolygon=e),void 0!=i.vertex&&(t.selectedVertex=i.vertex,t.selectedPolygon=e)):(e.setOptions({strokeColor:"#0000FF"}),t.selectedPolygon=e,void 0!=i.vertex&&(t.selectedVertex=i.vertex,t.selectedPolygon=e)))})},closePolygon:function(e){if(this.canDraw&&e.latLng.lng()==this.paths[0].lng&&e.latLng.lat()==this.paths[0].lat){this.polyPaths.push(this.paths);var t=new google.maps.Polygon({paths:this.paths,id:this.polyPaths.length-1,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,editable:!1,draggable:!1});t.setMap(this.$refs.map.$mapObject),this.setEvent(t,this),this.polygons.push(t),this.paths=[]}},mouseOff:function(e){this.canDraw&&(document.body.style.cursor="default")},mouseOn:function(e){this.canDraw&&(document.body.style.cursor="crosshair")},drawOn:function(){this.canDraw=!0,this.draggable=!1,this.$refs.map.$mapObject.setOptions({draggableCursor:"crosshair"});for(var e=0;e<this.polygons.length;e++)this.polygons[e].setEditable(!1),this.polygons[e].setDraggable(!1)},drawOff:function(){this.canDraw=!1,this.draggable=!0,this.$refs.map.$mapObject.setOptions({draggableCursor:"grab"});for(var e=0;e<this.polygons.length;e++)this.polygons[e].setEditable(!0),this.polygons[e].setDraggable(!0)},drawLine:function(e){if(this.drawer&&(this.drawer=!1),this.canDraw)this.paths.push({lat:e.latLng.lat(),lng:e.latLng.lng()});else for(var t=0;t<this.polyPaths.length;t++){var i=this.polygons[t];this.polyPaths[t]=i.getPaths()}},updateMap:function(){if(""!=this.newCenter&&null!=this.newCenter){var e=this.newCenter.replace(/\s/g,""),t=e.split(","),i=t[1],n=t[0];parseFloat(i)!=parseInt(i)||isNaN(i)||parseFloat(n)!=parseInt(n)||isNaN(n)||n<=90&&n>=-90&&i<=180&&i>=-180&&(this.center.lng=parseFloat(i),this.center.lat=parseFloat(n),this.$refs.map.panTo(this.center),this.zoom=10)}},makeGeoJson:function(){var e={type:"FeatureCollection",features:[]};if(0==this.polyPaths.length){var t={type:"Feature",geometry:{type:"Polygon",coordinates:[]},properties:{}};e.features.push(t)}else for(var i=0;i<this.polygons.length;i++){var n=this.polygons[i].getPath(),t={type:"Feature",geometry:{type:"Polygon",coordinates:[]},properties:{}},l=[];n.forEach(function(e,t){l.push([e.lat(),e.lng()])}),t.geometry.coordinates=l,e.features.push(t)}return e},checkCriteria:function(e,t,i,n){return!!(""!=e&null!=e&&""!=t&null!=t&&""!=i&null!=i&&""!=n&null!=n&&this.polygons.length>0)||(this.alertMissingCriteria=!0,!1)},saveMission:function(){var e=this,t=this.makeGeoJson(),i=this.pickerDate+" "+this.pickerStart,n=this.pickerDate+" "+this.pickerEnd;this.checkCriteria(this.title,this.description,i,n)&&this.register_mission_v1_1(this.title,t,this.description,i,n,this.selectedType,function(t){if(200==t.status){for(var i=0;i<e.polygons.length;i++)e.polygons[i].setEditable(!1),e.polygons[i].setDraggable(!1);e.draggable=!0,e.$refs.map.$mapObject.setOptions({draggableCursor:"grab"}),e.canDraw=!1,e.edit=!e.edit,e.$emit("snackbar",6e3,"Mission Successfully Saved")}},function(e){alert("Hmmm something went wrong with our servers when fetching stations!! Sorry!")})}}},d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-layout",{staticStyle:{width:"100%",height:"100%"},attrs:{fixed:""},on:{contextmenu:e.showDeleteMenu}},[i("v-card",{staticStyle:{width:"40%",top:"64px",overflow:"scroll"},attrs:{height:e.cardHeight}},[i("v-toolbar",{attrs:{flat:""}},[i("v-list",[i("v-list-tile",[i("v-list-tile-title",{staticClass:"title"},[e._v("\n            New Mission\n          ")])],1)],1)],1),e._v(" "),i("v-list",{staticClass:"pt-0",staticStyle:{margin:"2%"},attrs:{dense:""}},[i("v-text-field",{attrs:{label:"Mission Title"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),e._v(" "),i("v-text-field",{attrs:{label:"Description","multi-line":""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),e._v(" "),i("v-select",{staticStyle:{width:"40%",float:"left",margin:"10px"},attrs:{items:e.types,label:"Mission Type","single-line":"",auto:"","hide-details":""},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}}),e._v(" "),i("v-menu",{ref:"menu",attrs:{persistent:"",lazy:"","close-on-content-click":!1,transition:"scale-transition","full-width":"","nudge-right":140,"return-value":e.pickerDate},on:{"update:returnValue":function(t){e.pickerDate=t}},model:{value:e.menuDate,callback:function(t){e.menuDate=t},expression:"menuDate"}},[i("v-text-field",{staticStyle:{width:"40%",float:"left",margin:"10px"},attrs:{slot:"activator",label:"Flight Date",readonly:"","prepend-icon":"event"},slot:"activator",model:{value:e.pickerDate,callback:function(t){e.pickerDate=t},expression:"pickerDate"}}),e._v(" "),i("v-card",[i("v-card-title",{attrs:{"primary-title":""}},[i("div",[i("v-date-picker",{ref:"picker",attrs:{color:"green darken-4","show-current":!1},on:{change:e.saveDate},model:{value:e.pickerDate,callback:function(t){e.pickerDate=t},expression:"pickerDate"}})],1)]),e._v(" "),i("v-card-actions",[i("v-btn",{staticStyle:{"background-color":"#1d561a"},attrs:{dark:""},on:{click:function(t){e.menuDate=!1}}},[e._v("OK")])],1)],1)],1),e._v(" "),i("v-menu",{ref:"menuStart",attrs:{persistent:"",lazy:"","close-on-content-click":!1,transition:"scale-transition","full-width":"","nudge-right":140,"return-value":e.pickerStart},on:{"update:returnValue":function(t){e.pickerStart=t}},model:{value:e.menuStart,callback:function(t){e.menuStart=t},expression:"menuStart"}},[i("v-text-field",{staticStyle:{width:"40%",float:"left",margin:"10px"},attrs:{slot:"activator",label:"Flight Start Time","prepend-icon":"access_time",readonly:""},slot:"activator",model:{value:e.pickerStart,callback:function(t){e.pickerStart=t},expression:"pickerStart"}}),e._v(" "),i("v-card",[i("v-card-title",{attrs:{"primary-title":""}},[i("div",[i("v-time-picker",{attrs:{color:"green darken-4"},model:{value:e.pickerStart,callback:function(t){e.pickerStart=t},expression:"pickerStart"}})],1)]),e._v(" "),i("v-card-actions",[i("v-btn",{staticStyle:{"background-color":"#1d561a"},attrs:{dark:""},on:{click:function(t){e.menuStart=!1}}},[e._v("OK")])],1)],1)],1),e._v(" "),i("v-menu",{ref:"menuEnd",attrs:{persistent:"",lazy:"","close-on-content-click":!1,transition:"scale-transition","full-width":"","nudge-right":140,"return-value":e.pickerEnd},on:{"update:returnValue":function(t){e.pickerEnd=t}},model:{value:e.menuEnd,callback:function(t){e.menuEnd=t},expression:"menuEnd"}},[i("v-text-field",{staticStyle:{width:"40%",float:"left",margin:"10px"},attrs:{slot:"activator",label:"Flight End Time","prepend-icon":"access_time",readonly:""},slot:"activator",model:{value:e.pickerEnd,callback:function(t){e.pickerEnd=t},expression:"pickerEnd"}}),e._v(" "),i("v-card",[i("v-card-title",{attrs:{"primary-title":""}},[i("div",[i("v-time-picker",{attrs:{color:"green darken-4"},model:{value:e.pickerEnd,callback:function(t){e.pickerEnd=t},expression:"pickerEnd"}})],1)]),e._v(" "),i("v-card-actions",[i("v-btn",{staticStyle:{"background-color":"#1d561a"},attrs:{dark:""},on:{click:function(t){e.menuEnd=!1}}},[e._v("OK")])],1)],1)],1),e._v(" "),i("v-btn",{staticStyle:{"background-color":"#1d561a","margin-left":"60%"},attrs:{dark:""},on:{click:[function(t){t.stopPropagation(),e.drawer=!e.drawer},function(t){e.saveMission()}]}},[e._v("\n      Save Mission\n    ")])],1),e._v(" "),i("gmap-map",{ref:"map",staticClass:"map-panel",attrs:{center:e.center,zoom:e.zoom,"map-type-id":e.mapType,options:{minZoom:2,scrollwheel:e.scrollwheel,disableDefaultUI:!0,draggable:e.draggable,zoomControl:!0,clickableIcons:!1}},on:{click:function(t){e.drawLine(t)},mouseout:function(t){e.mouseOff(t)},mouseover:function(t){e.mouseOn(t)}}},[e.paths.length>0?i("gmap-polyline",{ref:"polyline",attrs:{path:e.paths,editable:!0},on:{click:function(t){e.closePolygon(t)},rightclick:e.selectingVertex}}):e._e()],1),e._v(" "),i("v-menu",{attrs:{"offset-y":"",absolute:"","position-x":e.x,"position-y":e.y},model:{value:e.deleteMenu,callback:function(t){e.deleteMenu=t},expression:"deleteMenu"}},[i("v-list",[null!=e.selectedPolygon?i("v-list-tile",{on:{click:function(t){e.deletePolygon()}}},[i("v-list-tile-title",[e._v("Delete Polygon")])],1):e._e(),e._v(" "),null!=e.selectedVertex?i("v-list-tile",{on:{click:function(t){e.deleteVertex()}}},[i("v-list-tile-title",[e._v("Delete Vertex")])],1):e._e(),e._v(" "),null!=e.selectedPolygon?i("v-list-tile",{on:{click:function(t){e.unselectPolygon()}}},[i("v-list-tile-title",[e._v("Unselect Polygon")])],1):e._e()],1)],1),e._v(" "),i("v-layout",[i("v-toolbar",{staticStyle:{width:"32%",top:"15%",left:"65%"},attrs:{fixed:""}},[i("v-text-field",{attrs:{label:"Latitude, Longitude"},model:{value:e.newCenter,callback:function(t){e.newCenter=t},expression:"newCenter"}}),e._v(" "),i("v-tooltip",{attrs:{bottom:""}},[i("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(t){e.updateMap()}},slot:"activator"},[i("v-icon",[e._v("search")])],1),e._v(" "),i("span",[e._v("Search")])],1),e._v(" "),e.canDraw?e._e():i("v-btn",{attrs:{flat:""},on:{click:function(t){e.drawOn()}}},[i("v-icon",[e._v(" edit ")]),e._v("\n      Draw Search Area\n    ")],1),e._v(" "),e.canDraw?i("v-btn",{attrs:{flat:""},on:{click:function(t){e.drawOff()}}},[i("v-icon",[e._v(" pan_tool ")]),e._v("\n      Edit Map\n    ")],1):e._e(),e._v(" "),e.canDraw?i("v-tooltip",{attrs:{bottom:"","max-width":"100"}},[i("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(t){t.stopPropagation(),e.show=!0}},slot:"activator"},[i("v-icon",{attrs:{dark:"",color:"primary"}},[e._v("help")])],1),e._v(" "),i("span",[e._v("Need Help Selecting a Flight Area?")])],1):e._e()],1),e._v(" "),i("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[i("v-card",[i("v-card-title",{attrs:{"primary-title":""}},[i("div",[i("h3",{staticClass:"headline mb-0"},[e._v("Tips for selecting a Flight Area:")]),e._v(" "),i("div",[i("br"),e._v(" "),i("ul",{staticStyle:{"list-style-position":"inside","margin-left":"25%"}},[i("li",[e._v(" Fly below 400 ft. ")]),e._v(" "),i("li",[e._v(" Fly within visual line-of-sight ")]),e._v(" "),i("li",[e._v(" Fly in clear weather conditions ")]),e._v(" "),i("li",[e._v(" Fly over green spaces and not over traffic ")]),e._v(" "),i("li",[e._v(" Fly where there are no people under you ")]),e._v(" "),i("li",[e._v(" Fly during the day ")]),e._v(" "),i("li",[e._v(" Never fly near other aircrafts ")])])])])]),e._v(" "),i("v-card-actions",[i("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){t.stopPropagation(),e.show=!1}}},[e._v("Close")])],1)],1)],1),e._v(" "),i("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.alertMissingCriteria,callback:function(t){e.alertMissingCriteria=t},expression:"alertMissingCriteria"}},[i("v-card",[i("v-card-title",{attrs:{"primary-title":""}},[i("div",[i("h3",{staticClass:"headline mb-0"},[e._v("Mission Did Not Save")]),e._v(" "),i("h4",[e._v("Please Make Sure the Following Items are Filled Out:")]),e._v(" "),i("div",[i("br"),e._v(" "),i("ul",{staticStyle:{"list-style-position":"inside","margin-left":"25%"}},[i("li",[e._v(" Mission Title ")]),e._v(" "),i("li",[e._v(" Mission Description ")]),e._v(" "),i("li",[e._v(" Flight Area ")]),e._v(" "),i("li",[e._v(" Flight Date ")]),e._v(" "),i("li",[e._v(" Start Time ")]),e._v(" "),i("li",[e._v(" End Time ")])])])])]),e._v(" "),i("v-card-actions",[i("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){t.stopPropagation(),e.alertMissingCriteria=!1}}},[e._v("Close")])],1)],1)],1)],1)],1)},u=[],p={render:d,staticRenderFns:u},v=p,h=i("VU/8"),g=n,f=h(c,v,!1,g,null,null);t.default=f.exports},bOdI:function(e,t,i){"use strict";t.__esModule=!0;var n=i("C4MV"),l=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t,i){return t in e?(0,l.default)(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},mClu:function(e,t,i){var n=i("kM2E");n(n.S+n.F*!i("+E39"),"Object",{defineProperty:i("evD5").f})},xStm:function(e,t,i){t=e.exports=i("FZ+f")(!0),t.push([e.i,"\n.map-panel {\n  height:100%;\n  width:100%;\n}\n.btn-toggle {\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n","",{version:3,sources:["/Users/samcrane/Documents/Repositories/SAR-Spring-2018/Front-End/demo-drone-app/src/components/NewMissionPage.vue"],names:[],mappings:";AACA;EACE,YAAY;EACZ,WAAW;CACZ;AACD;EACE,6BAA6B;EAC7B,8BAA8B;MAC1B,2BAA2B;UACvB,uBAAuB;CAChC",file:"NewMissionPage.vue",sourcesContent:["\n.map-panel {\n  height:100%;\n  width:100%;\n}\n.btn-toggle {\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=5.56706dd2e1c8f221941e.js.map